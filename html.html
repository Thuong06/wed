<form id="form">
  <div class="field">
    <label for="to_name">Tên người nhận</label>
    <input type="text" name="to_name" id="to_name">
  </div>
  <div class="field">
    <label for="from_name">Email người gửi</label>
    <input type="email" name="from_name" id="from_name">
  </div>
  <div class="field">
    <label for="message">Tin nhắn</label>
    <textarea name="message" id="message"></textarea>
  </div>

  <input type="submit" id="button" value="Gửi Tin nhắn">
</form>

<style> 
  .field {
    margin-bottom: 10px;
  }

  .field label {
    display: block;
    font-size: 12px;
    color: #777;
  }

  .field input, .field textarea {
    display: block;
    min-width: 250px;
    line-height: 1.5;
    font-size: 14px;
  }

  input[type="submit"] {
    display: block;
    padding: 6px 30px;
    font-size: 14px;
    background-color: #4460AA;
    color: #fff;
    border: none;
    cursor: pointer;
  }
</style>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script type="text/javascript">
  emailjs.init('-xHOWUNtTWcz609w5');
</script>

<script>
  const btn = document.getElementById("button");

  document.getElementById("form").addEventListener("submit", function (event) {
    event.preventDefault();

    btn.value = "Đang gửi...";

    const serviceID = "service_3mxbhcf";
    const templateID = "template_awki4k7";

    emailjs.sendForm(serviceID, templateID, this).then(
      () => {
        btn.value = "Gửi Tin nhắn";
        alert("Tin nhắn đã được gửi!");
      },
      (err) => {
        btn.value = "Gửi Tin nhắn";
        alert("Lỗi: " + JSON.stringify(err));
      }
    );
  });
</script>
